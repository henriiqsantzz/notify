<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Meu App de Notificação</title>
  <meta name="theme-color" content="#111111">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <style>
    :root{--bg:#0b0b0d;--fg:#f2f2f2;--muted:#9aa0a6;--card:#151518;--primary:#0a84ff;--accent:#ff3b30}
    *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--fg);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto}
    .wrap{max-width:680px;margin:0 auto;padding:24px}
    .card{background:var(--card);border-radius:16px;padding:16px;box-shadow:0 8px 30px rgba(0,0,0,.35)}
    h1{font-size:22px;margin:0 0 8px}
    p{color:var(--muted);margin:0 0 14px}
    label{display:block;color:#c9c9c9;margin:10px 0 6px}
    input,textarea{width:100%;border:1px solid #2a2a2f;background:#1a1b1f;color:#fff;border-radius:12px;padding:12px;outline:none}
    textarea{min-height:90px;resize:vertical}
    .row{display:flex;gap:10px;align-items:center}
    .btn{appearance:none;border:0;border-radius:12px;padding:12px 14px;color:#fff;cursor:pointer;font-weight:700}
    .btn.primary{background:var(--primary)} .btn.accent{background:var(--accent)} .btn.ghost{background:transparent;border:1px solid #2a2a2f;color:#c9c9c9}
    .hint{font-size:12px;color:#9aa0a6;margin-top:10px;line-height:1.4}
    .pill{display:inline-block;background:#1f1f24;border:1px solid #2a2a2f;padding:6px 10px;border-radius:999px;color:#c9c9c9;margin-right:6px;font-size:12px}
    .topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div>
        <div class="pill">PWA • iOS/Android</div>
        <div class="pill">Sem conta Apple</div>
      </div>
      <button id="installBtn" class="btn ghost">Adicionar à Tela Inicial</button>
    </div>

    <div class="card" style="margin-bottom:16px">
      <h1>Meu App de Notificação</h1>
      <p>Gere notificações locais com <b>título</b>, <b>texto</b> e <b>ícone</b>. No iPhone, instale este PWA na <b>Tela Inicial</b> para habilitar notificações (iOS 16.4+).</p>

      <label>Título</label>
      <input id="titleInput" placeholder="Oferta relâmpago">

      <label>Descrição</label>
      <textarea id="bodyInput" placeholder="Só hoje: 50% OFF no pacote Premium!"></textarea>

      <label>Ícone da notificação (URL pública – opcional)</label>
      <input id="iconInput" placeholder="https://.../icone.png">

      <div class="row" style="margin-top:14px">
        <button id="askPerm" class="btn ghost">Pedir permissão</button>
        <button id="notifyNow" class="btn accent">Disparar agora</button>
      </div>

      <div class="row" style="margin-top:10px">
        <input id="delaySec" type="number" min="1" value="3" style="max-width:120px">
        <button id="notifyLater" class="btn primary">Agendar em Xs (app aberto)</button>
      </div>

      <p class="hint">
        • No iOS, só funciona após <b>Adicionar à Tela Inicial</b> e conceder permissão.<br>
        • Este demo agenda apenas enquanto o app está <b>aberto</b>. Para agendar mesmo fechado, é necessário <b>Push</b> (posso te dar o passo a passo depois).<br>
        • O campo “Ícone” é o que aparece na bandeja de notificação. Algumas plataformas ignoram imagens grandes no web‑push; o ícone sempre aparece.
      </p>
    </div>

    <div class="card">
      <h1>Como instalar no iPhone</h1>
      <p>1) Abra no Safari → 2) Toque no botão de <b>Compartilhar</b> → 3) <b>Adicionar à Tela de Início</b> → 4) Abra pelo ícone novo.</p>
      <p class="hint">Depois abra o app e toque em “Pedir permissão”.</p>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
